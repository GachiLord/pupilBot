(()=>{let e={call:"",chat:""};chrome.runtime.onMessage.addListener((async a=>{let t,c=await(async()=>{let[e]=await chrome.tabs.query({active:!0,currentWindow:!0});return e})();switch(a){case"open-call-view":t="./dist/process.js",e.call=c.id;break;case"open-chat-view":t="./dist/chatWriter.js",e.chat=c.id;break;case"isRunning":chrome.runtime.sendMessage(!!e.call)}c.url.includes("skype")&&chrome.scripting.executeScript({target:{tabId:c.id},files:[t]})}))})();