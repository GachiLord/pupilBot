(()=>{let e={call:"",chat:""};chrome.runtime.onMessage.addListener((async t=>{let a,c=await(async()=>{let[e]=await chrome.tabs.query({active:!0,currentWindow:!0});return e})();switch(t){case"open-call-view":a="./dist/process.js",e.call=c.id;break;case"open-chat-view":a="./dist/chatWriter.js",e.chat=c.id;break;default:return await chrome.tabs.sendMessage(e.chat,t),void console.log(e.chat)}c.url.includes("skype")&&chrome.scripting.executeScript({target:{tabId:c.id},files:[a]})}))})();